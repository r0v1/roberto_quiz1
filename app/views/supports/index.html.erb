<h1>The Supporter App</h1>



<h2>All Support Requests</h2>

<%= form_tag supports_path, method: :get do %>
  <%= label_tag :q, "Search" %>
  <%= text_field_tag :q, params[:q] %>
  <%= submit_tag "Search" %>
<% end %>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Department</th>
      <th>Message</th>
      <th colspan="3">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @supports.each do |support| %>
      <tr>
        <td><%= support.name %></td>
        <td><%= support.email %></td>
        <td><%= support.department %></td>
        <td><%= support.message %></td>
        <td><%= link_to "Edit", edit_support_path(support) %> </td>
        <td><%= button_to "Delete", support_path(support),
            method: :delete,
            data: {confirm: "Are you sure you want to delete this request?"} %>
        </td>
        <td>
          <% label = support.status ? "Done" : "Not Done" %>
          <%= button_to label, status_support_path(support) %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
<br>
<%= link_to "Add a New Request", new_support_path %>
<br>
<%= paginate @supports, q: params[:q] %>
